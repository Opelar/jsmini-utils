{"version":3,"file":"utils.js","sources":["../src/utils/urlArgs.js","../src/utils/getCookies.js","../src/utils/isArray.js","../src/utils/upsetArray.js","../src/utils/isNumber.js","../src/utils/trimString.js","../src/utils/formatDate.js","../src/utils/classof.js","../src/utils/httpClient.js","../src/utils/makeQueryString.js","../src/utils/isPromise.js","../src/utils/isPlainObject.js","../src/utils/tryGetValue.js","../src/utils/shallowEqual.js","../src/index.js"],"sourcesContent":["/**\n * reg 获取 param\n * @param {String} name\n */\nexport function getUrlParam(name) {\n  let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n  let r = window.location.search.substr(1).match(reg);\n\n  if (r != null) {\n    return decodeURI(r[2]);\n  }\n\n  return null;\n}\n\n/**\n * split() 获取 paramName\n * @param {String} paramName\n */\nexport function getURLParameters(paramName) {\n  let sURL = window.document.URL.toString();\n\n  if (sURL.indexOf(\"?\") > 0) {\n    let arrParams = sURL.split(\"?\");\n\n    let arrURLParams = arrParams[1].split(\"&\");\n\n    let arrParamNames = new Array(arrURLParams.length);\n    let arrParamValues = new Array(arrURLParams.length);\n\n    let i = 0;\n    for (i = 0; i < arrURLParams.length; i++) {\n      let sParam = arrURLParams[i].split(\"=\");\n      arrParamNames[i] = sParam[0];\n      if (sParam[1] != \"\") arrParamValues[i] = unescape(sParam[1]);\n      else arrParamValues[i] = \"No Value\";\n    }\n\n    for (i = 0; i < arrURLParams.length; i++) {\n      if (arrParamNames[i] == paramName) {\n        return arrParamValues[i];\n      }\n    }\n    return \"No Parameters Found\";\n  }\n}\n\n/*\n * get url params\n * let args = urlArgs(); \n * let q = args.q || \"\"; \n * let n = args.n ? parseInt(args.n) : 10;\n */\nexport function urlArgs() {\n  let args = {};\n  let query = location.search.substring(1);\n  let pairs = query.split(\"&\");\n  for (let i = 0; i < pairs.length; i++) {\n    let pos = pairs[i].indexOf(\"=\");\n    if (pos == -1) continue; // If not found, skip it\n    let name = pairs[i].substring(0, pos); // name\n    let value = pairs[i].substring(pos + 1); // value\n    value = decodeURIComponent(value); // Decode the value\n    args[name] = value;\n  }\n  return args;\n}\n","// 返回document的cookie作为 objext name/value\n// 假设cookie值是用encodeURIComponent() 进行编码的。\nfunction getCookies() {\n  let cookies = {};\n  let all = document.cookie; // Get all cookies in string\n  if (all === \"\") return cookies;\n  let list = all.split(\"; \");\n\n  for (let i = 0; i < list.length; i++) {\n    let cookie = list[i];\n    let p = cookie.indexOf(\"=\");\n    let name = cookie.substring(0, p);\n    let value = cookie.substring(p + 1);\n    value = decodeURIComponent(value);\n    cookies[name] = value;\n  }\n\n  return cookies;\n}\n\nexport default getCookies;\n","export default function isArray(arrOrObj) {\n  if (!arrOrObj || typeof arrOrObj !== \"object\") {\n    throw new Error(\"arg is not an object\");\n  }\n  return Object.prototype.toString.call(arrOrObj).slice(8, -1) === \"Array\";\n}\n","/**\n * 数组随机乱序\n * @param {Array} arr\n */\nexport default function upsetArray(arr) {\n  return arr.sort(() => Math.random() - 0.5);\n}\n","export default function isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n","/**\n * 去除空格\n * @param {String} str\n * @param {Number} type 1-所有空格 2-前后空格 3-前空格 4-后空格\n */\nexport default function trimString(str, type) {\n  switch (type) {\n    case 1:\n      return str.replace(/\\s+/g, \"\");\n    case 2:\n      return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    case 3:\n      return str.replace(/(^\\s*)/g, \"\");\n    case 4:\n      return str.replace(/(\\s*$)/g, \"\");\n    default:\n      return str;\n  }\n}\n","/**\n * 时间戳转时间输出\n * @param {Number} timestamp\n */\nexport default function formatDate(timestamp) {\n  let date = new Date(timestamp);\n  // 年 月 日\n  let year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  // 时 分 秒\n  let hours = date.getHours();\n  let minutes = date.getMinutes();\n  let seconds = date.getSeconds();\n\n  let myDate = year + \"-\" + month + \"-\" + day;\n  let myTime = hours + \":\" + minutes + \":\" + seconds;\n\n  return myDate + \" \" + myTime;\n}\n","/**\n * 返回数据的类型\n * classof([]) => \"Array\"\n */\nexport default function classof(o) {\n  if (o === null) return \"Null\";\n  if (o === undefined) return \"Undefined\";\n  return Object.prototype.toString.call(o).slice(8, -1);\n}\n","const httpClient = {};\n\nhttpClient.defaults = {\n  headers: {}\n};\n\nhttpClient.request = async ({\n  headers = {},\n  path = '/',\n  method = 'GET',\n  queryStringObject = {},\n  payload = {},\n}) => {\n  return new Promise((resolve, reject) => {\n    let requestUrl = `${path}?`;\n    let counter = 0;\n\n    for (let queryKey in queryStringObject){\n      if(queryStringObject.hasOwnProperty(queryKey)){\n        counter += 1;\n\n        if (counter > 1) {\n          requestUrl += '&';\n        }\n\n        requestUrl += `${queryKey}=${queryStringObject[queryKey]}`;\n      }\n    }\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.open(method, requestUrl, true);\n    xhr.setRequestHeader('Content-type', 'application/json');\n\n    headers = Object.assign(httpClient.defaults.headers, headers);\n\n    for(let headerKey in headers){\n      if (headers.hasOwnProperty(headerKey)) {\n        xhr.setRequestHeader(headerKey, headers[headerKey]);\n      }\n    }\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        const statusCode = xhr.status;\n        const responseReturned = xhr.responseText;\n\n        try {\n          const parsedResponse = JSON.parse(responseReturned);\n          resolve({statusCode, responsePayload: parsedResponse});\n        } catch (error){\n          reject(error);\n        }\n      }\n    };\n\n    const payloadString = JSON.stringify(payload);\n\n    xhr.send(payloadString);\n  });\n};\n\nexport default httpClient;\n\n\n\n","function encode(value, opts) {\n  if (opts.encode) {\n    return encodeURIComponent(value);\n  }\n  return value;\n}\n\nexport default function makeQueryString(obj, opts) {\n  let defaults = {\n    encode: true,\n    strict: true\n  };\n\n  opts = Object.assign(defaults, opts);\n\n  return obj\n    ? Object.keys(obj)\n      .sort()\n      .map(key => {\n        let val = obj[key];\n\n        if (val === undefined) {\n          return '';\n        }\n\n        if (val === null) {\n          return encode(key, opts);\n        }\n\n        if (Array.isArray(val)) {\n          let result = [];\n\n          val.slice().forEach(val2 => {\n            if (val2 === undefined) {\n              return;\n            }\n\n            if (val2 === null) {\n              result.push(encode(key, opts));\n            } else {\n              result.push(encode(key, opts) + '=' + encode(val2, opts));\n            }\n          });\n\n          return result.join('&');\n        }\n\n        return encode(key, opts) + '=' + encode(val, opts);\n      })\n      .filter(x => x.length > 0)\n      .join('&')\n    : '';\n}\n","export default function isPromise(obj) {\n  return (\n    !!obj &&\n    (typeof obj === 'object' || typeof obj === 'function') &&\n    typeof obj.then === 'function'\n  );\n}","export default function isPlainObject(obj) {\n  if (typeOf(obj) !== 'Object') {\n    return false;\n  }\n\n  const ctor = obj.constructor;\n\n  if (typeof ctor !== 'function') {\n    return false;\n  }\n\n  const prot = ctor.prototype;\n\n  if (typeOf(prot) !== 'Object') {\n    return false;\n  }\n\n  return prot.hasOwnProperty('isPrototypeOf');\n}","export default function tryGetValue(fn, defaultValue) {\n  try {\n    return fn();\n  } catch (e) {\n    return defaultValue;\n  }\n}","export default function shallowEqual(objA, objB, compare) {\n  if (objA === objB) {\n    return true;\n  }\n\n  // 其中一个不是object，则不相等\n  if (!objA || !objB || typeof objA + typeof objB !== 'objectobject') {\n    return false;\n  }\n\n  const keyA = Object.keys(objA);\n  const keyB = Object.keys(objB);\n  const len = keyA.length;\n\n  // key 数量不一致则不相等\n  if (len !== keyB.length) {\n    return false;\n  }\n\n  const hasCallback = typeof compare === 'function';\n\n  for (let i = 0; i < len; i++) {\n    const key = keyA[i];\n\n    if (!Object.prototype.hasOwnProperty.call(objB, key)) {\n      return false;\n    }\n\n    const valA = objA[key];\n    const valB = objB[key];\n\n    const ret = hasCallback ? compare(valA, valB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valA !== valB)) {\n      return false;\n    }\n  }\n\n  return true;\n}","import { urlArgs, getUrlParam, getURLParameters } from \"./utils/urlArgs\";\nimport getCookies from \"./utils/getCookies\";\nimport isArray from \"./utils/isArray\";\nimport upsetArray from \"./utils/upsetArray\";\nimport isNumber from \"./utils/isNumber\";\nimport trimString from \"./utils/trimString\";\nimport formatDate from \"./utils/formatDate\";\nimport classof from \"./utils/classof\";\nimport httpClient from \"./utils/httpClient\";\nimport makeQueryString from \"./utils/makeQueryString\"\nimport isPromise from \"./utils/isPromise\"\nimport isPlainObject from \"./utils/isPlainObject\"\nimport tryGetValue from \"./utils/tryGetValue\"\nimport shallowEqual from \"./utils/shallowEqual\"\n\nconst utils = {\n  urlArgs,\n  getUrlParam,\n  getURLParameters,\n  getCookies,\n  isArray,\n  upsetArray,\n  isNumber,\n  trimString,\n  formatDate,\n  classof,\n  httpClient,\n  makeQueryString,\n  isPromise,\n  isPlainObject,\n  tryGetValue,\n  shallowEqual\n};\n\nexport default utils;\n"],"names":["getUrlParam","name","reg","RegExp","r","window","location","search","substr","match","decodeURI","getURLParameters","paramName","sURL","document","URL","toString","indexOf","arrParams","split","arrURLParams","arrParamNames","Array","length","arrParamValues","i","sParam","unescape","urlArgs","args","query","substring","pairs","pos","value","decodeURIComponent","getCookies","cookies","all","cookie","list","p","isArray","arrOrObj","Error","Object","prototype","call","slice","upsetArray","arr","sort","Math","random","isNumber","isNaN","trimString","str","type","replace","formatDate","timestamp","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","myDate","myTime","classof","o","undefined","httpClient","defaults","headers","request","path","method","queryStringObject","payload","Promise","resolve","reject","requestUrl","counter","queryKey","hasOwnProperty","xhr","XMLHttpRequest","open","setRequestHeader","assign","headerKey","onreadystatechange","readyState","DONE","statusCode","status","responseReturned","responseText","parsedResponse","JSON","parse","responsePayload","error","payloadString","stringify","send","encode","opts","encodeURIComponent","makeQueryString","obj","strict","keys","map","val","key","result","forEach","val2","push","join","filter","x","isPromise","then","isPlainObject","typeOf","ctor","constructor","prot","tryGetValue","fn","defaultValue","e","shallowEqual","objA","objB","compare","keyA","keyB","len","hasCallback","valA","valB","ret","utils"],"mappings":"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"}